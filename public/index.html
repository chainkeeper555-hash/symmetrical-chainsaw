<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <meta http-equiv="Content-Security-Policy" content="
        default-src 'self';
        script-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com https://unpkg.com https://cdn.jsdelivr.net;
        style-src 'self' 'unsafe-inline' https://unpkg.com https://fonts.googleapis.com https://fonts.gstatic.com;
        font-src 'self' https://fonts.gstatic.com;
        img-src 'self' data: https://sh4nerewards.com https://res.cloudinary.com;
        connect-src 'self' https://sh4nerewards.com https://cdn.jsdelivr.net https://kick.com https://bcgame.st https://api.cloudinary.com https://unpkg.com https://t.me https://youtube.com https://www.instagram.com;
        frame-src 'self' https://www.youtube.com https://youtube.com https://youtu.be https://www.youtube-nocookie.com https://player.vimeo.com https://www.kick.com;
    ">
    <title>SH4NER | S4R - Streaming Influencer</title>
    <link rel="preload" href="/font/ACROTERIONJF-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
    <link rel="preload" href="/font/ACROTERIONJF-Regular.woff" as="font" type="font/woff" crossorigin="anonymous">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/home.css">
    <style>
        /* Body Padding to Prevent Footer Overlap */
        @media (max-width: 640px) {
            body {
                padding-bottom: 3.5rem; /* Height of bottom-nav (3rem) + buffer */
            }
        }
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            position: relative;
            max-width: 90%;
            max-height: 90%;
            width: 800px;
            height: 450px;
            background-color: #000;
            border-radius: 8px;
            overflow: hidden;
        }
        .modal iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
        .close-modal {
            position: absolute;
            top: 10px;
            right: 10px;
            color: #fff;
            background-color: rgba(0, 0, 0, 0.5);
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            cursor: pointer;
            font-size: 20px;
            line-height: 30px;
            text-align: center;
        }
        .short-card, .video-card {
            cursor: pointer;
        }
        /* Carousel Styles */
        .carousel-wrapper {
            position: relative;
            overflow: hidden;
            width: 100%;
        }
        .shorts-container, .videos-container {
            display: flex;
            overflow-x: auto;
            scroll-behavior: smooth;
            scroll-snap-type: x mandatory;
            -webkit-overflow-scrolling: touch;
            padding: 1rem 0;
            white-space: nowrap;
        }
        .short-card, .video-card {
            flex: 0 0 auto;
            width: 300px;
            margin-right: 1rem;
            scroll-snap-align: start;
        }
        .shorts-container::-webkit-scrollbar, .videos-container::-webkit-scrollbar {
            display: none;
        }
        .shorts-container, .videos-container {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        /* Bottom Navigation (Mobile Only) */
        .bottom-nav {
            display: none;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            max-width: 100%;
            margin: 0 auto;
            background: rgba(0, 14, 15, 0.407);
            backdrop-filter: blur(10px);
            z-index: 900;
            padding: 0.5rem 0;
        }
        @media (max-width: 640px) {
            .bottom-nav {
                display: flex;
                justify-content: space-around;
                align-items: center;
            }
            .bottom-nav a {
                display: flex;
                flex-direction: column;
                align-items: center;
                color: #dfefff;
                font-size: 0.625rem;
                font-weight: 600;
                text-transform: uppercase;
                padding: 0.125rem 0.5rem;
                transition: color 0.2s, background 0.2s;
                width: 20%;
                min-width: 60px;
            }
            .bottom-nav a:hover {
                color: #ffffff;
            }
            .bottom-nav a.nav-active {
                color: #ffffff;
                background: #72F4FF;
            }
            .bottom-nav a.nav-active i {
                color: #ffffff;
            }
            .bottom-nav a i {
                width: 1.5rem;
                height: 1.5rem;
                margin-bottom: 0.25rem;
                color: #dfefff;
                transition: color 0.2s;
            }
        }
        /* Floating Kick Button (Mobile Only) */
        .floating-kick-button {
            display: none;
            position: fixed;
            bottom: 4.5rem;
            right: 1rem;
            background: #6addc24d;
            color: #ffffff;
            font-size: 0.75rem;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            padding: 0.5rem 1rem;
            border-radius: 0.75rem;
            z-index: 950;
            transition: transform 0.2s, opacity 0.3s, visibility 0.3s;
        }
        .floating-kick-button.hidden {
            opacity: 0;
            visibility: hidden;
        }
        .floating-kick-button:hover {
            transform: scale(1.05);
        }
        @media (max-width: 640px) {
            .floating-kick-button {
                display: block;
            }
            .cookie-bar {
                display: none; /* Hide cookie bar on mobile */
            }
        }
        /* Cookie Bar Adjustments */
        .cookie-bar {
            z-index: 1000;
            bottom: 5.5rem;
        }
        @media (min-width: 641px) {
            .cookie-bar {
                bottom: 13%;
            }
        }
    </style>
</head>
<body>
    <div class="bg-pattern"></div>

    <!-- Header -->
    <header class="header fixed z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full flex items-center justify-between">
            <div class="flex items-center w-1/3 left-icons">
                <nav class="flex space-x-4 sm:space-x-6">
                    <a href="index.html" class="text-[#dfefff]/95 uppercase font-semibold text-xs sm:text-sm tracking-wide nav-active">Home</a>
                    <a href="game.html" class="text-[#dfefff]/95 uppercase font-semibold text-xs sm:text-sm tracking-wide">Gameplay</a>
                    <a href="givaway.html" class="text-[#dfefff]/95 uppercase font-semibold text-xs sm:text-sm tracking-wide">Giveaway</a>
                    <a href="#" class="text-[#dfefff]/95 uppercase font-semibold text-xs sm:text-sm tracking-wide">Help</a>
                </nav>
            </div>
            <div class="flex justify-center w-1/3 logo-container">
                <img src="/img/Sh4ner_White 1.png" alt="Logo" class="h-8 sm:h-10 rounded-full object-cover">
            </div>
            <div class="flex items-center space-x-1 sm:space-x-2 w-1/3 justify-end right-icons">
                <a href="https://x.com/sh4ne_r?t=3Uet8-mY59EnhAzmaig5Hw&s=09" target="_blank" aria-label="X" class="feather-icon">
                    <svg class="text-white w-4 h-4 sm:w-5 sm:h-5" viewBox="0 0 48 48" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path d="M 5.9199219 6 L 20.582031 27.375 L 6.2304688 44 L 9.4101562 44 L 21.986328 29.421875 L 31.986328 44 L 44 44 L 28.681641 21.669922 L 42.199219 6 L 39.029297 6 L 27.275391 19.617188 L 17.933594 6 L 5.9199219 6 z M 9.7167969 8 L 16.880859 8 L 40.203125 42 L 33.039062 42 L 9.7167969 8 z"></path>
                    </svg>
                </a>
                <span class="icon-fallback">X</span>
                <a href="https://youtube.com/@sh4neryt?si=mW-9I4vw14vgCbC_" target="_blank" aria-label="YouTube" class="feather-icon"><i data-feather="youtube" class="text-white w-4 h-4 sm:w-5 sm:h-5"></i></a>
                <span class="icon-fallback">YT</span>
                <a href="https://www.instagram.com/s4r.clips?igsh=Z3pyM3hua21qNmI5" target="_blank" aria-label="Instagram" class="feather-icon"><i data-feather="instagram" class="text-white w-4 h-4 sm:w-5 sm:h-5"></i></a>
                <span class="icon-fallback">IG</span>
                <a href="https://t.me/SH4NERLOBBY" target="_blank" aria-label="Telegram" class="feather-icon"><i data-feather="send" class="text-white w-4 h-4 sm:w-5 sm:h-5"></i></a>
                <span class="icon-fallback">TG</span>
                <a href="https://kick.com/sh4ne_r" target="_blank" class="cta-button flex items-center uppercase font-bold tracking-wider">Follow on Kick!</a>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 sm:pt-32 pb-12 sm:pb-16 relative">
        <section class="hero" aria-labelledby="hero-title">
            <div class="image-right">
                <img src="/img/rightdice.png" alt="Right Image">
            </div>
            <div class="w-full mx-auto px-4 sm:px-6 lg:px-8 flex justify-center">
                <div class="w-full mt-4 sm:mt-0 hero-text">
                    <h1 id="hero-title" class="hero-title uppercase font-extrabold leading-tight tracking-wide mb-4 sm:mb-6">
                        SH4NER | S4R
                    </h1>
                    <p class="text-[12px] sm:text-[16px] leading-relaxed max-w-[600px] mb-6 sm:mb-8 mx-auto">
                        From insane max wins to jaw-dropping roulette hits, Sh4ne_r has taken the streaming game to the next level. Now a Kick Partner and teamed up with legends like UncleJ & Sue, he's known as the King of Max Wins and for turning chaos into unforgettable content. Sponsored by BC.Game, Partnered with Kick
                    </p>
                    <a href="https://bcgame.st/i-sh4ner-n" target="_blank" class="primary-cta rounded-xl uppercase font-bold text-sm sm:text-base flex items-center justify-center">
                        USE SH4NER CODE
                    </a>
                </div>
            </div>
            <div class="image-left">
                <img src="/img/leftdice.png" alt="Left Image">
            </div>
            
            <div class="cookie-bar" id="cookie-bar" style="width: 600px; height: auto; transform: rotate(0deg); opacity: 1; position: fixed; transform: translateX(-50%); border-radius: 32px; padding: 24px; background: rgba(0, 14, 15, 0.5); backdrop-filter: blur(10px); display: flex; flex-direction: column; color: white; font-family: Arial, sans-serif;">
                <div style="display: flex; align-items: center; margin-bottom: 10px;">
                    <span style="margin-right: 5px; font-size: 12px; font-weight: bold;">Your Privacy</span>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 17.75C12.69 17.75 13.25 17.19 13.25 16.5C13.25 15.81 12.69 15.25 12 15.25C11.31 15.25 10.75 15.81 10.75 16.5C10.75 17.19 11.31 17.75 12 17.75ZM16 9V6C16 3.79 14.21 2 12 2C9.79 2 8 3.79 8 6V9H7V20C7 21.1 7.9 22 9 22H15C16.1 22 17 21.1 17 20V9H16ZM15 9H9V6C9 4.34 10.34 3 12 3C13.66 3 15 4.34 15 6V9Z" fill="#A7ECFF"/>
                    </svg>
                </div>
                <div style="display: flex; flex-direction: row; align-items: center;">
                    <p style="margin: 0; font-size: 11px; text-align: left; flex-grow: 1;">We use cookies and other technologies to help personalize content, tailor and measure ads, and provide a better experience. By clicking "OK" or turning on a cookie preference, you agree to this as outlined in our <a href="/cookie-policy" style="color: #A7ECFF; text-decoration: underline;">Cookie Policy</a>. To change preferences or withdraw consent, please update your <a href="/cookie-preferences" style="color: #A7ECFF; text-decoration: underline;">cookie preferences</a>.</p>
                    <div style="display: flex; gap: 2px; margin-left: auto; margin-left: 6px;">
                        <button id="cookie-preferences" style="padding: 5px 10px; font-size: 10px; border: 1px solid #A7ECFF; border-radius: 8px; background: #66666600; color: white; cursor: pointer; width: 78px;">Preferences</button>
                        <button id="cookie-accept" style="padding: 5px 10px; font-size: 10px; border: none; border-radius: 5px; background: #A7ECFF; color: rgb(8, 7, 7); cursor: pointer; width: 78px;">OK</button>
                    </div>
                </div>
            </div>
            
            <section class="news-ticker" aria-label="News Ticker">
                <span class="loader" id="news-loader"></span>
                <ul id="news-ticker-list" style="font-size: 14px; padding: 8px 0;"></ul>
            </section>
        </section>
    </main>

    <!-- Social Content Section -->
    <section class="social-content-section" aria-labelledby="social-heading">
        <div class="flex flex-col items-center mb-8 sm:mb-12">
            <h2 id="social-heading" class="social-heading">S4R | Social Media Content</h2>
        </div>
        <h3 class="shorts-heading">S4R | Shorts</h3>
        <div class="carousel-wrapper">
            <span class="loader" id="shorts-loader"></span>
            <div id="shorts-container" class="shorts-container"></div>
            <div class="carousel-shadow carousel-shadow-left"></div>
            <div class="carousel-shadow carousel-shadow-right"></div>
        </div>

        <div class="billboard">
            <img src="img/billi.jpg" alt="Billboard" class="billboard image">
            <div class="billboard-text"></div>
        </div>

        <h3 class="videos-heading">S4R | Video</h3>
        <div class="carousel-wrapper">
            <span class="loader" id="videos-loader"></span>
            <div id="videos-container" class="videos-container"></div>
            <div class="carousel-shadow carousel-shadow-left"></div>
            <div class="carousel-shadow carousel-shadow-right"></div>
        </div>
    </section>
    <div class="bg-pattern"></div>

    <!-- Video Modal -->
    <div id="video-modal" class="modal">
        <div class="modal-content">
            <button class="close-modal">&times;</button>
            <iframe id="video-iframe" src="" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
        </div>
    </div>

    <!-- Contact Section -->
    <section class="contact-section" aria-labelledby="contact-heading">
        <div class="max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16">
            <div class="h-divider">
                <div class="shadow"></div>
            </div>
            <h2 id="contact-heading" class="social-heading">Contact S4R Team</h2>
            <form id="contactForm" class="max-w-3xl mx-auto">
                <p class="text-center text-[16px] sm:text-[18px] text-white font-['Poppins'] mb-8">Reach out to the S4R team for collaboration!</p>
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4">
                    <div>
                        <input type="text" id="firstName" name="firstName" placeholder="First Name" class="w-full p-3 rounded-lg bg-[rgba(3,16,22,0.8)] border border-gray-500 text-white placeholder-white placeholder-opacity-70 focus:outline-none focus:ring-2 focus:ring-gray-500" required>
                    </div>
                    <div>
                        <input type="text" id="lastName" name="lastName" placeholder="Last Name" class="w-full p-3 rounded-lg bg-[rgba(3,16,22,0.8)] border border-gray-500 text-white placeholder-white placeholder-opacity-70 focus:outline-none focus:ring-2 focus:ring-gray-500" required>
                    </div>
                </div>
                <div class="mb-4">
                    <input type="email" id="email" name="email" placeholder="Email" class="w-full p-3 rounded-lg bg-[rgba(3,16,22,0.8)] border border-gray-500 text-white placeholder-white placeholder-opacity-70 focus:outline-none focus:ring-2 focus:ring-gray-500" required>
                </div>
                <div class="mb-4">
                    <input type="tel" id="phone" name="phone" placeholder="Phone Number" class="w-full p-3 rounded-lg bg-[rgba(3,16,22,0.8)] border border-gray-500 text-white placeholder-white placeholder-opacity-70 focus:outline-none focus:ring-2 focus:ring-gray-500">
                </div>
                <div class="mb-4">
                    <textarea id="message" name="message" rows="5" placeholder="Message" class="w-full p-3 rounded-lg bg-[rgba(3,16,22,0.8)] border border-gray-500 text-white placeholder-white placeholder-opacity-70 focus:outline-none focus:ring-2 focus:ring-gray-500" required></textarea>
                </div>
                <div class="text-center">
                    <button type="submit" class="w-full primary-cta rounded-xl uppercase font-bold text-sm sm:text-base">Send Message</button>
                </div>
            </form>
        </div>
    </section>

    <!-- Bottom Navigation (Mobile Only) -->
    <nav class="bottom-nav">
        <a href="index.html" class="nav-active"><i data-feather="home"></i>Home</a>
        <a href="game.html"><i data-feather="play-circle"></i>Gameplay</a>
        <a href="givaway.html"><i data-feather="gift"></i>Giveaway</a>
        <a href="#"><i data-feather="help-circle"></i>Help</a>
    </nav>

    <!-- Floating Kick Button (Mobile Only) -->
    <a href="https://kick.com/sh4ne_r" target="_blank" class="floating-kick-button">Follow on Kick!</a>

    <!-- Footer Section -->
    <footer class="footer">
        <div class="max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16">
            <div class="h-divider">
                <div class="shadow"></div>
            </div>
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="section-divider w-full mb-8"></div>
                <h2 class="text-[#FFFF00] font-bold text-[48px] text-center font-['Poppins']">Disclaimer</h2>
                <p class="text-[16px] text-center font-['Poppins'] font-normal mt-4 max-w-2xl mx-auto disclaimer-text">
                    sh4ner.com is an independent igaming news site and casino comparison service. Every effort is made to ensure that the bonus offers listed here are accurate and up-to-date. However, we accept no responsibility for inaccuracies or errors. Please check terms and conditions before deciding to take a bonus.
                </p>
                <h1 class="text-[#FF0000] font-bold text-[48px] text-center font-['Poppins'] mt-8">Gamble Responsibly</h1>
                <p class="text-[16px] text-center font-['Poppins'] font-normal mt-4 max-w-2xl mx-auto gamble-text">
                    Please gamble responsibly. Gambling can have a serious impact on your life. Only gamble with money you can afford to lose.
                </p>
                <div class="footer-logo-container">
                    <img src="/img/75a66996c8988a839e73f363914e85fba6db1e10.png" alt="Logo 1" class="footer-logo">
                    <img src="/img/1be4be065fedecbf48f67c6f6b5dc6ffa0b85cfb.png" alt="Logo 2" class="footer-logo">
                    <img src="/img/b787bdceb376f6ca4007ae8c5de2c7bcea17b7ef.png" alt="Logo 3" class="footer-logo">
                    <img src="/img/164ae989bb0b639138196e2074669754ca16ba85.png" alt="Logo 4" class="footer-logo">
                </div>
                <p class="text-[12px] text-center font-['Poppins'] font-normal mt-4">
                    Â© 2025 SH4NE_R. All rights reserved. 
                    <a href="#" class="underline">Privacy Policy</a> | 
                    <a href="#" class="underline">Terms of Service</a>
                </p>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            try {
                feather.replace();
            } catch (e) {
                console.error('Feather Icons failed to load:', e);
                document.querySelectorAll('.feather-icon').forEach(function(el) {
                    el.classList.add('empty');
                });
            }
            AOS.init();

            // Cookie Consent Handling
            const cookieBar = document.getElementById('cookie-bar');
            const cookieAcceptBtn = document.getElementById('cookie-accept');
            const cookiePreferencesBtn = document.getElementById('cookie-preferences');

            if (cookieBar && localStorage.getItem('cookieConsent') === 'accepted') {
                cookieBar.style.display = 'none';
            }

            if (cookieAcceptBtn) {
                cookieAcceptBtn.addEventListener('click', () => {
                    localStorage.setItem('cookieConsent', 'accepted');
                    cookieBar.style.display = 'none';
                });
            }

            if (cookiePreferencesBtn) {
                cookiePreferencesBtn.addEventListener('click', () => {
                    window.location.href = '/cookie-preferences';
                });
            }

            // Contact Form Submission
            const contactForm = document.getElementById('contactForm');
            if (contactForm) {
                contactForm.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    const formData = {
                        firstName: document.getElementById('firstName').value,
                        lastName: document.getElementById('lastName').value,
                        email: document.getElementById('email').value,
                        phone: document.getElementById('phone').value,
                        message: document.getElementById('message').value
                    };
                    try {
                        const response = await fetch('https://sh4nerewards.com/api/contact', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(formData)
                        });
                        const result = await response.json();
                        if (response.ok) {
                            alert('Message sent successfully!');
                            contactForm.reset();
                        } else {
                            console.error('Contact form submission failed:', result.message);
                            alert('Error: ' + result.message);
                        }
                    } catch (error) {
                        console.error('Error submitting contact form:', error.message);
                        alert('An error occurred while submitting the form. Please try again later.');
                    }
                });
            }

            // Scroll Handling for Floating Kick Button
            let lastScrollTop = 0;
            let scrollTimeout = null;
            const kickButton = document.querySelector('.floating-kick-button');

            function throttle(func, wait) {
                let timeout = null;
                return function() {
                    if (!timeout) {
                        timeout = setTimeout(() => {
                            func.apply(this, arguments);
                            timeout = null;
                        }, wait);
                    }
                };
            }

            const handleScroll = throttle(() => {
                let currentScrollTop = window.pageYOffset || document.documentElement.scrollTop;
                if (currentScrollTop > lastScrollTop) {
                    // Scrolling down
                    kickButton.classList.add('hidden');
                } else {
                    // Scrolling up
                    kickButton.classList.remove('hidden');
                }
                lastScrollTop = currentScrollTop <= 0 ? 0 : currentScrollTop;

                // Show button when scrolling stops
                clearTimeout(scrollTimeout);
                scrollTimeout = setTimeout(() => {
                    kickButton.classList.remove('hidden');
                }, 150);
            }, 100);

            window.addEventListener('scroll', handleScroll);

            // Helper functions
            function showLoader(id) {
                const loader = document.getElementById(id);
                if (loader) loader.style.display = 'block';
            }
            function hideLoader(id) {
                const loader = document.getElementById(id);
                if (loader) loader.style.display = 'none';
            }

            // Modal functionality
            const modal = document.getElementById('video-modal');
            const iframe = document.getElementById('video-iframe');
            const closeModalBtn = document.querySelector('.close-modal');

            function openModal(videoUrl) {
                console.log('Opening modal with URL:', videoUrl);
                if (!videoUrl || videoUrl === '#' || videoUrl.trim() === '') {
                    console.error('Invalid or missing video URL:', videoUrl);
                    alert('Sorry, no valid video URL available for this item.');
                    return;
                }
                let embedUrl = videoUrl.trim();
                if (embedUrl.includes('youtube.com/watch') || embedUrl.includes('youtu.be/') || embedUrl.includes('youtube.com/shorts')) {
                    let videoId = '';
                    if (embedUrl.includes('watch?v=')) {
                        videoId = embedUrl.split('watch?v=')[1].split('&')[0];
                    } else if (embedUrl.includes('youtu.be/')) {
                        videoId = embedUrl.split('youtu.be/')[1].split('?')[0];
                    } else if (embedUrl.includes('youtube.com/shorts')) {
                        videoId = embedUrl.split('youtube.com/shorts/')[1].split('?')[0];
                    }
                    embedUrl = `https://www.youtube.com/embed/${videoId}`;
                } else if (embedUrl.includes('kick.com')) {
                    embedUrl = embedUrl.replace('kick.com', 'www.kick.com');
                }
                console.log('Setting iframe src to:', embedUrl);
                iframe.src = embedUrl;
                modal.style.display = 'flex';
            }

            function closeModal() {
                modal.style.display = 'none';
                iframe.src = '';
            }

            closeModalBtn.addEventListener('click', closeModal);
            modal.addEventListener('click', (e) => {
                if (e.target === modal) closeModal();
            });
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && modal.style.display === 'flex') closeModal();
            });

            // Carousel Auto-Scroll and Infinite Loop
            function setupCarousel(containerId) {
                const container = document.getElementById(containerId);
                if (!container) {
                    console.error(`Carousel container with ID ${containerId} not found`);
                    return;
                }

                const cards = container.querySelectorAll('.short-card, .video-card');
                if (cards.length === 0) {
                    console.warn(`No cards found in ${containerId}`);
                    return;
                }

                cards.forEach(card => {
                    const clone = card.cloneNode(true);
                    clone.addEventListener('click', () => {
                        openModal(clone.dataset.videoUrl);
                    });
                    container.appendChild(clone);
                });

                let scrollPos = 0;
                const scrollSpeed = 1;
                const scrollInterval = 1000 / 60;
                let isPaused = false;

                function autoScroll() {
                    if (isPaused) return;
                    scrollPos += scrollSpeed;
                    container.scrollLeft = scrollPos;
                    if (scrollPos >= container.scrollWidth / 2) {
                        scrollPos = 0;
                        container.scrollLeft = 0;
                    }
                }

                const scrollIntervalId = setInterval(autoScroll, scrollInterval);
                container.addEventListener('mouseenter', () => {
                    isPaused = true;
                });
                container.addEventListener('mouseleave', () => {
                    isPaused = false;
                });
                container.addEventListener('scroll', () => {
                    if (container.scrollLeft >= container.scrollWidth / 2) {
                        container.scrollLeft = 0;
                        scrollPos = 0;
                    } else if (container.scrollLeft <= 0) {
                        container.scrollLeft = container.scrollWidth / 2;
                        scrollPos = container.scrollWidth / 2;
                    }
                });
            }

            // Fetch News Ticker Items
            async function fetchNewsTicker() {
                const newsList = document.getElementById('news-ticker-list');
                if (!newsList) {
                    console.error('News ticker list element not found');
                    return;
                }
                showLoader('news-loader');
                try {
                    const response = await fetch('https://sh4nerewards.com/api/news');
                    if (!response.ok) {
                        throw new Error(`HTTP error! Status: ${response.status}`);
                    }
                    const data = await response.json();
                    hideLoader('news-loader');
                    if (!data.news || !Array.isArray(data.news)) {
                        console.error('Invalid news data format:', data);
                        newsList.innerHTML = '<li>Invalid news data format. Please try again later.</li>';
                        return;
                    }
                    if (data.news.length === 0) {
                        newsList.innerHTML = '<li>No news available at this time.</li>';
                        return;
                    }
                    newsList.innerHTML = '';
                    data.news.forEach(item => {
                        const li = document.createElement('li');
                        li.innerHTML = item.link ? `<a href="${item.link}" target="_blank">${item.text}</a>` : item.text;
                        newsList.appendChild(li);
                    });
                    data.news.forEach(item => {
                        const li = document.createElement('li');
                        li.innerHTML = item.link ? `<a href="${item.link}" target="_blank">${item.text}</a>` : item.text;
                        newsList.appendChild(li);
                    });
                } catch (error) {
                    console.error('Error fetching news:', error.message);
                    hideLoader('news-loader');
                    newsList.innerHTML = '<li>Error loading news. Please try again later.</li>';
                }
            }

            // Fetch Shorts
            async function fetchShorts() {
                const shortsContainer = document.getElementById('shorts-container');
                if (!shortsContainer) {
                    console.error('Shorts container element not found');
                    return;
                }
                showLoader('shorts-loader');
                try {
                    const response = await fetch('https://sh4nerewards.com/api/shorts');
                    if (!response.ok) {
                        throw new Error(`HTTP error! Status: ${response.status}`);
                    }
                    const data = await response.json();
                    console.log('Fetched shorts:', data);
                    hideLoader('shorts-loader');
                    if (!data.shorts || !Array.isArray(data.shorts)) {
                        console.error('Invalid shorts data format:', data);
                        shortsContainer.innerHTML = '<p>Invalid shorts data format. Please try again later.</p>';
                        return;
                    }
                    if (data.shorts.length === 0) {
                        shortsContainer.innerHTML = '<p>No shorts available at this time.</p>';
                        return;
                    }
                    shortsContainer.innerHTML = '';
                    data.shorts.forEach((short, index) => {
                        const article = document.createElement('article');
                        article.className = 'short-card rounded-xl relative overflow-hidden';
                        article.innerHTML = `
                            <img src="${short.image}" alt="${short.title}" class="w-full h-full object-cover">
                            <div class="absolute inset-0 bg-black/20"></div>
                            <div class="text-content">
                                <div class="title">${short.title}</div>
                                <p class="description">${short.description}</p>
                            </div>
                            <div class="absolute inset-0 flex items-center justify-center">
                                <div class="play-icon border-2 border-white/50 flex items-center justify-center">
                                    <div class="w-0 h-0"></div>
                                </div>
                            </div>
                        `;
                        const videoUrl = short.videoUrl || '#';
                        article.dataset.videoUrl = videoUrl;
                        article.addEventListener('click', () => {
                            console.log(`Short ${index} clicked, URL: ${videoUrl}`);
                            openModal(videoUrl);
                        });
                        shortsContainer.appendChild(article);
                    });
                    setupCarousel('shorts-container');
                } catch (error) {
                    console.error('Error fetching shorts:', error.message);
                    hideLoader('shorts-loader');
                    shortsContainer.innerHTML = '<p>Error loading shorts. Please try again later.</p>';
                }
            }

            // Fetch Videos
            async function fetchVideos() {
                const videosContainer = document.getElementById('videos-container');
                if (!videosContainer) {
                    console.error('Videos container element not found');
                    return;
                }
                showLoader('videos-loader');
                try {
                    const response = await fetch('https://sh4nerewards.com/api/videos');
                    if (!response.ok) {
                        throw new Error(`HTTP error! Status: ${response.status}`);
                    }
                    const data = await response.json();
                    console.log('Fetched videos:', data);
                    hideLoader('videos-loader');
                    if (!data.videos || !Array.isArray(data.videos)) {
                        console.error('Invalid videos data format:', data);
                        videosContainer.innerHTML = '<p>Invalid videos data format. Please try again later.</p>';
                        return;
                    }
                    if (data.videos.length === 0) {
                        videosContainer.innerHTML = '<p>No videos available at this time.</p>';
                        return;
                    }
                    videosContainer.innerHTML = '';
                    data.videos.forEach((video, index) => {
                        const article = document.createElement('article');
                        article.className = 'video-card rounded-xl relative overflow-hidden';
                        article.innerHTML = `
                            <img src="${video.image}" alt="${video.title}" class="w-full h-full object-cover">
                            <div class="absolute inset-0 bg-black/20"></div>
                            <div class="text-content">
                                <div class="title">${video.title}</div>
                                <p class="description">${video.description}</p>
                            </div>
                            <div class="absolute inset-0 flex items-center justify-center">
                                <div class="play-icon border-2 border-white/50 flex items-center justify-center">
                                    <div class="w-0 h-0"></div>
                                </div>
                            </div>
                        `;
                        const videoUrl = video.videoUrl || '#';
                        article.dataset.videoUrl = videoUrl;
                        article.addEventListener('click', () => {
                            console.log(`Video ${index} clicked, URL: ${videoUrl}`);
                            openModal(videoUrl);
                        });
                        videosContainer.appendChild(article);
                    });
                    setupCarousel('videos-container');
                } catch (error) {
                    console.error('Error fetching videos:', error.message);
                    hideLoader('videos-loader');
                    videosContainer.innerHTML = '<p>Error loading videos. Please try again later.</p>';
                }
            }

            // Initialize fetches
            fetchNewsTicker();
            fetchShorts();
            fetchVideos();
        });
    </script>
</body>
</html>
